# Требования

1. 150+ типов событий.
2. Рост около 2 типов событий в месяц.
3. 30+ объектов.

# Реализация

Типы событий истории описываются в двух иерархиях классов.
Первая иерархия реализует интерфейс `HistoryEventInterface` описывающий работу с данными специфичными для класса к
которому относится событие и самого события. Вторая иерархия реализует интерфейс `TemplateWithParametersInterface` и его
подтипы, описывая работу с данными непосредственно для отображения в шаблонах и сами шаблоны включая очистку данных
для безопасного вывода в браузер.

# Использование

## Добавление нового события в существующий класс

1. Добавить константу в `HistoryEventsEnum`.
2. В реализации метода `createEventHistory` целевого класса (к которому относится событие)
   интерфейса `HistoryEventTargetInterface` добавить создание модели данных (`HistoryEventInterface`) для нового
   события. Можно использовать существующие создающие методы `createEventHistoryBase`
   , `createChangeAttributeValueEventHistory` или создать новый класс описывающий работу с данными
   расширяющий `EventHistoryBase`.
3. Для особого отображения отличающегося от отображения по умолчанию добавить класс описывающий
   шаблон (`ListItemViewModelInterface) и связать его с cобытием в `ItemViewModelFactory::create()`.

## Добавление нового класса для которого нужно хранить историю событий

1. В классе `History` добавить связь к новому классу или добавить его в `ObjectNameTrait::$classes`.
2. Реализовать в новом классе интерфейс `HistoryEventTargetInterface`.
3. Далее см. раздел "Добавление нового события в существующий класс".